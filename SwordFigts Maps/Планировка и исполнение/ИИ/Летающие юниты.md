Так уж вышло, что [[Хозяйка Похъёлы Лоуха]] - летающая. А потому придётся для [[Прототип|прототипа]] сделать для начала сделать систему летающих врагов.

Впрочем, их и так и так надо было сделать.

	Полёт очень странный относительно обычного перемещения
	Самое первое - это трёхмерное перемещение.
	Сейчас обычное перемещение работает через PassInput(), принимающий двухмерное
	горизонтальное направление.
	
	Тем не менее, MovingAgent у меня, как оказалось, вполне способен работать с
	трёхмерностью, это упрощает задачу.
	Он работает относительно данной следующей точки, а точка же выбирается при вычислении
	пути.
	
	Значит основная задача тут - вычислять путь

1) Идея #1 для вычисления пути: делать RayCast в сторону цели.
   Если попадается препятствие - огибаем его, используя его bounding box. 
   Вряд ли сработает, так как придётся очень много всего переписать.
2) Идея #2 для вычисления пути: Использовать уже имеющийся поверхностный NavMesh и передавать следующую координату пути.
   Используем координату на земле для перемещения, но заодно просто задаём высоту.
   Это не самый лучший вариант, так как летающий юнит будет сильно ограничен, что очень плохо.
3) Идея #3 для вычисления пути: Использовать NavMesh, но передавать весь поверхностный путь.
   Зная весь путь, летающий юнит может его придерживаться, но не обязательно следовать. Если есть препятствия в воздухе - они приоретизируются и юнит отходит от пути, чтобы обойти препятствие.
   Юнит должен придерживаться определённой высоты, которая задана заранее.
   Если есть срез пути по воздуху (Проверяется математикой, raycast тут не прокатит) - путь сокращается.
   Желательно тут будет сделать 
   Проверка на срез происходит при смене точки пути.
4) Идея #4 для вычисления пути: Брать прямую линию до цели. При препятствии сделать частичный A*.
   Вот видим препятствие. Кидаем Raycast. Берём направления, проверяя, что в каждое из направлений можно попасть. Выбираем то направление, которое ближе всего к цели.
   Направления повёрнуты относительно нормали препятствия, чтобы не было движения лесенкой.

И ещё важная часть: Кроме поиска пути можно попытаться использовать SDF'ы. SDF'ы будут как поля в воздухе, являющиеся аналогом "Труднодоступной" территории на NavMesh.
То-есть юниты будут огибать такие поля.
Например, такие поля появляются вокруг других юнитов, чтобы летающие юниты не собирались в кучу, да и выглядели более естественно.

Планировка #Сделано 
Необходимое-достаточное исполнение #Сделано 